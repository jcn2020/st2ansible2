---
name: asible2
pack: sre_asible2_automation
description: quick check on ansible ping
runner_type: orquesta
entry_point: workflows/asible2/main.yaml
enabled: true
parameters:
  private_keypath:
    required: true
    default: "/tmp/tmp_key"
    description: path to private keypath
    secret: true
#  
#  runcmd_keypath:
#    required: true
#    default: "/opt/stackstorm/packs/sre_asible2_automation/artifacts/key_fullaccess"
#    description: path to private keypath for ansible ping
#    secret: true
#    type: string
#

  inventory_file:
    required: true
    default: "/opt/stackstorm/packs/sre_asible2_automation/artifacts/inventory.yaml"
    description: full path to inventory.yaml
    type: string

  playbook:
    required: true
    default: "/opt/stackstorm/packs/sre_asible2_automation/artifacts/playbook1.yaml"
    description: playbook to run
    secret: false
    type: string

  datastore_key:
    required: true
    default: "{{ st2kv.system.keye2rsa | decrypt_kv }}"
    description: private key from datastore 
    secret: true
    type: string
